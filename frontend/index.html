<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Evaluator</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <h1>LLM Evaluator</h1>
        <p>Evaluate local LLMs and prompts for summarization tasks</p>
    </header>
    
    <main>
        <div class="container">
            <div class="sidebar">
                <section class="models-section">
                    <h2>Models</h2>
                    <div class="model-list" id="model-list">
                        <!-- Models will be loaded here -->
                        <div class="loading">Loading models...</div>
                    </div>
                    <button id="add-model-btn" class="btn">Add Model</button>
                </section>
                
                <section class="prompts-section">
                    <h2>Prompts</h2>
                    <div class="prompt-list" id="prompt-list">
                        <!-- Prompts will be loaded here -->
                        <div class="loading">Loading prompts...</div>
                    </div>
                    <button id="add-prompt-btn" class="btn">Add Prompt</button>
                </section>
            </div>
            
            <div class="content">
                <section class="input-section">
                    <h2>Input Text</h2>
                    <div class="input-toggle">
                        <button class="toggle-btn active" id="single-input">Single</button>
                        <button class="toggle-btn" id="batch-input">Batch</button>
                    </div>
                    
                    <div id="single-input-container">
                        <textarea id="input-text" rows="5" placeholder="Enter your transcribed voice memo here..."></textarea>
                    </div>
                    
                    <div id="batch-input-container" class="hidden">
                        <div class="batch-inputs" id="batch-inputs">
                            <div class="batch-input">
                                <textarea rows="3" placeholder="Enter text #1 here..."></textarea>
                                <button class="remove-btn">×</button>
                            </div>
                        </div>
                        <button id="add-batch-input" class="btn">Add Input</button>
                    </div>
                    
                    <div class="processing-controls">
                        <button id="process-btn" class="btn primary">Process</button>
                    </div>
                </section>
                
                <section class="results-section">
                    <h2>Results</h2>
                    <div id="results-container">
                        <!-- Results will be displayed here -->
                        <div class="no-results">Process some text to see results</div>
                    </div>
                </section>
            </div>
        </div>
    </main>
    
    <!-- Modal templates -->
    <div id="modal-container" class="modal-container hidden">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-title">Modal Title</h3>
                <button class="close-modal">×</button>
            </div>
            <div class="modal-content" id="modal-content">
                <!-- Modal content will be inserted here -->
            </div>
        </div>
    </div>
    
    <!-- Templates -->
    <template id="model-item-template">
        <div class="model-item">
            <label>
                <input type="checkbox" class="model-checkbox">
                <span class="model-name"></span>
            </label>
        </div>
    </template>
    
    <template id="prompt-item-template">
        <div class="prompt-item">
            <label>
                <input type="checkbox" class="prompt-checkbox">
                <span class="prompt-name"></span>
            </label>
            <div class="prompt-actions">
                <button class="edit-prompt">Edit</button>
                <button class="delete-prompt">Delete</button>
            </div>
        </div>
    </template>
    
    <template id="result-item-template">
        <div class="result-item">
            <div class="result-header">
                <h3 class="input-title">Input Text</h3>
            </div>
            <div class="input-content">
                <p class="input-text"></p>
            </div>
            <div class="outputs-container">
                <!-- Outputs will be inserted here -->
            </div>
        </div>
    </template>
    
    <template id="output-item-template">
        <div class="output-item">
            <div class="output-header">
                <div class="output-meta">
                    <span class="model-name"></span> + 
                    <span class="prompt-name"></span>
                    <span class="processing-time"></span>
                </div>
            </div>
            <div class="output-content">
                <p class="output-text"></p>
            </div>
            <div class="evaluation-controls">
                <button class="eval-btn bad" data-quality="bad">Bad</button>
                <button class="eval-btn ok" data-quality="ok">OK</button>
                <button class="eval-btn good" data-quality="good">Good</button>
                <div class="evaluation-notes">
                    <textarea placeholder="Optional notes..."></textarea>
                </div>
            </div>
        </div>
    </template>
    
    <template id="add-model-template">
        <form id="add-model-form">
            <div class="form-group">
                <label for="model-name">Model Name:</label>
                <input type="text" id="model-name" required>
            </div>
            <div class="form-group">
                <label for="model-description">Description (optional):</label>
                <textarea id="model-description"></textarea>
            </div>
            <div class="form-actions">
                <button type="submit" class="btn primary">Add Model</button>
            </div>
        </form>
    </template>
    
    <template id="add-prompt-template">
        <form id="add-prompt-form">
            <div class="form-group">
                <label for="prompt-name">Prompt Name:</label>
                <input type="text" id="prompt-name" required>
            </div>
            <div class="form-group">
                <label for="prompt-template">Template (use {{input}} as placeholder):</label>
                <textarea id="prompt-template" required rows="5"></textarea>
            </div>
            <div class="form-group">
                <label for="prompt-description">Description (optional):</label>
                <textarea id="prompt-description"></textarea>
            </div>
            <div class="form-actions">
                <button type="submit" class="btn primary">Save Prompt</button>
            </div>
        </form>
    </template>
    
    <!-- Scripts -->
    <script src="js/api.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
